<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ğŸš¨ è®ºæ–‡ç°å·²ä¸Šçº¿ï¼</font></font><a href="https://arxiv.org/abs/2111.00595" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/2111.00595</font></font></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ğŸš¨ æ–‡æ¡£ç°å·²ä¸Šçº¿ï¼</font></font><a href="https://mlmed.org/torchxrayvision/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://mlmed.org/torchxrayvision/</font></font></a></p>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç«ç‚¬Xå°„çº¿è§†è§‰</font></font></h1><a id="user-content-torchxrayvision" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šTorchXRayVision" href="#torchxrayvision"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/torchxrayvision-logo.png"><img src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/torchxrayvision-logo.png" width="300px" style="max-width: 100%;"></a></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font><a href="https://www.youtube.com/watch?v=Rl7xz0uULGQ" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ğŸ¬å®£ä¼ è§†é¢‘</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font><br><a href="http://www.youtube.com/watch?v=Rl7xz0uULGQ" title="è§†é¢‘æ ‡é¢˜" rel="nofollow"><img src="https://camo.githubusercontent.com/dbfb6968387554ba7b0c87d1e0e5d819c06fce91e7dd621f885b3df2011a339e/687474703a2f2f696d672e796f75747562652e636f6d2f76692f526c37787a3075554c47512f302e6a7067" width="400px" data-canonical-src="http://img.youtube.com/vi/Rl7xz0uULGQ/0.jpg" style="max-width: 100%;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></a></th>
</tr>
</thead>
</table>
<div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ƒæ˜¯ä»€ä¹ˆï¼Ÿ</font></font></h1><a id="user-content-what-is-it" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼š è¿™æ˜¯ä»€ä¹ˆï¼Ÿ" href="#what-is-it"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èƒ¸éƒ¨ X å°„çº¿æ•°æ®é›†å’Œæ¨¡å‹çš„åº“ã€‚</font><font style="vertical-align: inherit;">åŒ…æ‹¬é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹ã€‚</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TorchXRayVision æ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶åº“ï¼Œç”¨äºå¤„ç†èƒ¸éƒ¨ X å°„çº¿æ•°æ®é›†å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</font><font style="vertical-align: inherit;">å®ƒä¸ºå¤§é‡å…¬å¼€å¯ç”¨çš„èƒ¸éƒ¨ X å°„çº¿æ•°æ®é›†æä¾›äº†é€šç”¨æ¥å£å’Œé€šç”¨é¢„å¤„ç†é“¾ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œè¯¥åº“è¿˜æä¾›è®¸å¤šå…·æœ‰ä¸åŒæ¶æ„ã€é’ˆå¯¹ä¸åŒæ•°æ®ç»„åˆè¿›è¡Œè®­ç»ƒçš„åˆ†ç±»å’Œè¡¨ç¤ºå­¦ä¹ æ¨¡å‹ï¼Œç”¨ä½œåŸºçº¿æˆ–ç‰¹å¾æå–å™¨ã€‚</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹äºè§£å†³ä¸´åºŠé—®é¢˜çš„ç ”ç©¶äººå‘˜æ¥è¯´ï¼Œä»å¤´å¼€å§‹è®­ç»ƒæ¨¡å‹æ˜¯æµªè´¹æ—¶é—´ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTorchXRayVision æä¾›äº†é¢„å…ˆè®­ç»ƒçš„æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹åœ¨å¤§é‡æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå¹¶å®ç° 1) å¤§å‹æ•°æ®é›†çš„å¿«é€Ÿåˆ†æ 2) ç‰¹å¾é‡ç”¨ä»¥è¿›è¡Œå°‘é‡å­¦ä¹ ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹äºå¼€å‘ç®—æ³•çš„ç ”ç©¶äººå‘˜æ¥è¯´ï¼Œä½¿ç”¨å¤šä¸ªå¤–éƒ¨æ•°æ®é›†ç¨³å¥åœ°è¯„ä¼°æ¨¡å‹éå¸¸é‡è¦ã€‚</font><font style="vertical-align: inherit;">ä¸æ¯ä¸ªæ•°æ®é›†å…³è”çš„å…ƒæ•°æ®å¯èƒ½å·®å¼‚å¾ˆå¤§ï¼Œè¿™ä½¿å¾—å¾ˆéš¾å°†æ–¹æ³•åº”ç”¨äºå¤šä¸ªæ•°æ®é›†ã€‚</font><font style="vertical-align: inherit;">TorchXRayVision ä»¥ç»Ÿä¸€çš„æ–¹å¼æä¾›å¯¹è®¸å¤šæ•°æ®é›†çš„è®¿é—®ï¼Œä»¥ä¾¿å¯ä»¥ç”¨ä¸€è¡Œä»£ç äº¤æ¢å®ƒä»¬ã€‚</font><font style="vertical-align: inherit;">è¿™äº›æ•°æ®é›†è¿˜å¯ä»¥åˆå¹¶å’Œè¿‡æ»¤ï¼Œä»¥æ„å»ºç”¨äºç ”ç©¶æ³›åŒ–çš„ç‰¹å®šåˆ†å¸ƒå˜åŒ–ã€‚</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨ç‰¹ï¼š</font></font><a href="https://twitter.com/torchxrayvision" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@torchxrayvision</font></font></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¥é—¨</font></font></h2><a id="user-content-getting-started" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šå¼€å§‹ä½¿ç”¨" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>$ pip install torchxrayvision
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="$ pip install torchxrayvision" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-k">import</span> <span class="pl-s1">torchxrayvision</span> <span class="pl-k">as</span> <span class="pl-s1">xrv</span>
<span class="pl-k">import</span> <span class="pl-s1">skimage</span>, <span class="pl-s1">torch</span>, <span class="pl-s1">torchvision</span>

<span class="pl-c"># Prepare the image:</span>
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">skimage</span>.<span class="pl-s1">io</span>.<span class="pl-en">imread</span>(<span class="pl-s">"16747_3_1.jpg"</span>)
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-en">normalize</span>(<span class="pl-s1">img</span>, <span class="pl-c1">255</span>) <span class="pl-c"># convert 8-bit image to [-1024, 1024] range</span>
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">img</span>.<span class="pl-en">mean</span>(<span class="pl-c1">2</span>)[<span class="pl-c1">None</span>, ...] <span class="pl-c"># Make single color channel</span>

<span class="pl-s1">transform</span> <span class="pl-c1">=</span> <span class="pl-s1">torchvision</span>.<span class="pl-s1">transforms</span>.<span class="pl-v">Compose</span>([<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">XRayCenterCrop</span>(),<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">XRayResizer</span>(<span class="pl-c1">224</span>)])

<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-en">transform</span>(<span class="pl-s1">img</span>)
<span class="pl-s1">img</span> <span class="pl-c1">=</span> <span class="pl-s1">torch</span>.<span class="pl-en">from_numpy</span>(<span class="pl-s1">img</span>)

<span class="pl-c"># Load model and process image</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-all"</span>)
<span class="pl-s1">outputs</span> <span class="pl-c1">=</span> <span class="pl-en">model</span>(<span class="pl-s1">img</span>[<span class="pl-c1">None</span>,...]) <span class="pl-c"># or model.features(img[None,...]) </span>

<span class="pl-c"># Print results</span>
<span class="pl-en">dict</span>(<span class="pl-en">zip</span>(<span class="pl-s1">model</span>.<span class="pl-s1">pathologies</span>,<span class="pl-s1">outputs</span>[<span class="pl-c1">0</span>].<span class="pl-en">detach</span>().<span class="pl-en">numpy</span>()))

{<span class="pl-s">'Atelectasis'</span>: <span class="pl-c1">0.32797316</span>,
 <span class="pl-s">'Consolidation'</span>: <span class="pl-c1">0.42933336</span>,
 <span class="pl-s">'Infiltration'</span>: <span class="pl-c1">0.5316924</span>,
 <span class="pl-s">'Pneumothorax'</span>: <span class="pl-c1">0.28849724</span>,
 <span class="pl-s">'Edema'</span>: <span class="pl-c1">0.024142697</span>,
 <span class="pl-s">'Emphysema'</span>: <span class="pl-c1">0.5011832</span>,
 <span class="pl-s">'Fibrosis'</span>: <span class="pl-c1">0.51887786</span>,
 <span class="pl-s">'Effusion'</span>: <span class="pl-c1">0.27805611</span>,
 <span class="pl-s">'Pneumonia'</span>: <span class="pl-c1">0.18569896</span>,
 <span class="pl-s">'Pleural_Thickening'</span>: <span class="pl-c1">0.24489835</span>,
 <span class="pl-s">'Cardiomegaly'</span>: <span class="pl-c1">0.3645515</span>,
 <span class="pl-s">'Nodule'</span>: <span class="pl-c1">0.68982</span>,
 <span class="pl-s">'Mass'</span>: <span class="pl-c1">0.6392845</span>,
 <span class="pl-s">'Hernia'</span>: <span class="pl-c1">0.00993878</span>,
 <span class="pl-s">'Lung Lesion'</span>: <span class="pl-c1">0.011150705</span>,
 <span class="pl-s">'Fracture'</span>: <span class="pl-c1">0.51916164</span>,
 <span class="pl-s">'Lung Opacity'</span>: <span class="pl-c1">0.59073937</span>,
 <span class="pl-s">'Enlarged Cardiomediastinum'</span>: <span class="pl-c1">0.27218717</span>}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="import torchxrayvision as xrv
import skimage, torch, torchvision

# Prepare the image:
img = skimage.io.imread(&quot;16747_3_1.jpg&quot;)
img = xrv.datasets.normalize(img, 255) # convert 8-bit image to [-1024, 1024] range
img = img.mean(2)[None, ...] # Make single color channel

transform = torchvision.transforms.Compose([xrv.datasets.XRayCenterCrop(),xrv.datasets.XRayResizer(224)])

img = transform(img)
img = torch.from_numpy(img)

# Load model and process image
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-all&quot;)
outputs = model(img[None,...]) # or model.features(img[None,...]) 

# Print results
dict(zip(model.pathologies,outputs[0].detach().numpy()))

{'Atelectasis': 0.32797316,
 'Consolidation': 0.42933336,
 'Infiltration': 0.5316924,
 'Pneumothorax': 0.28849724,
 'Edema': 0.024142697,
 'Emphysema': 0.5011832,
 'Fibrosis': 0.51887786,
 'Effusion': 0.27805611,
 'Pneumonia': 0.18569896,
 'Pleural_Thickening': 0.24489835,
 'Cardiomegaly': 0.3645515,
 'Nodule': 0.68982,
 'Mass': 0.6392845,
 'Hernia': 0.00993878,
 'Lung Lesion': 0.011150705,
 'Fracture': 0.51916164,
 'Lung Opacity': 0.59073937,
 'Enlarged Cardiomediastinum': 0.27218717}
" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨é¢„è®­ç»ƒæ¨¡å‹å¤„ç†å›¾åƒçš„ç¤ºä¾‹è„šæœ¬æ˜¯</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/process_image.py"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">process_image.py</font></font></a></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>$ python3 process_image.py ../tests/00000001_000.png
{'preds': {'Atelectasis': 0.50500506,
           'Cardiomegaly': 0.6600903,
           'Consolidation': 0.30575264,
           'Edema': 0.274184,
           'Effusion': 0.4026162,
           'Emphysema': 0.5036339,
           'Enlarged Cardiomediastinum': 0.40989172,
           'Fibrosis': 0.53293407,
           'Fracture': 0.32376793,
           'Hernia': 0.011924741,
           'Infiltration': 0.5154413,
           'Lung Lesion': 0.22231922,
           'Lung Opacity': 0.2772148,
           'Mass': 0.32237658,
           'Nodule': 0.5091847,
           'Pleural_Thickening': 0.5102617,
           'Pneumonia': 0.30947986,
           'Pneumothorax': 0.24847917}}

</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="$ python3 process_image.py ../tests/00000001_000.png
{'preds': {'Atelectasis': 0.50500506,
           'Cardiomegaly': 0.6600903,
           'Consolidation': 0.30575264,
           'Edema': 0.274184,
           'Effusion': 0.4026162,
           'Emphysema': 0.5036339,
           'Enlarged Cardiomediastinum': 0.40989172,
           'Fibrosis': 0.53293407,
           'Fracture': 0.32376793,
           'Hernia': 0.011924741,
           'Infiltration': 0.5154413,
           'Lung Lesion': 0.22231922,
           'Lung Opacity': 0.2772148,
           'Mass': 0.32237658,
           'Nodule': 0.5091847,
           'Pleural_Thickening': 0.5102617,
           'Pneumonia': 0.30947986,
           'Pneumothorax': 0.24847917}}
" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‹å·ï¼ˆ</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/xray_models.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></h2><a id="user-content-models-demo-notebook" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šæ¨¡å‹ï¼ˆæ¼”ç¤ºç¬”è®°æœ¬ï¼‰" href="#models-demo-notebook"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡å®šé¢„è®­ç»ƒæ¨¡å‹çš„æƒé‡ï¼ˆå½“å‰å‡ä¸º DenseNet121ï¼‰ æ³¨æ„ï¼šæ¯ä¸ªé¢„è®­ç»ƒæ¨¡å‹æœ‰ 18 ä¸ªè¾“å‡ºã€‚</font><font style="vertical-align: inherit;">è¯¥</font></font><code>all</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨¡å‹çš„æ¯ä¸ªè¾“å‡ºéƒ½ç»è¿‡è®­ç»ƒã€‚</font><font style="vertical-align: inherit;">ç„¶è€Œï¼Œå¯¹äºå…¶ä»–æƒé‡ï¼ŒæŸäº›ç›®æ ‡æœªç»è¿‡è®­ç»ƒï¼Œå¹¶ä¸”ä¼šéšæœºé¢„æµ‹ï¼Œå› ä¸ºå®ƒä»¬ä¸å­˜åœ¨äºè®­ç»ƒæ•°æ®é›†ä¸­ã€‚</font><font style="vertical-align: inherit;">å”¯ä¸€æœ‰æ•ˆçš„è¾“å‡ºåˆ—åœ¨</font></font><code>{dataset}.pathologies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®é›†ä¸Šä¸æƒé‡å¯¹åº”çš„å­—æ®µä¸­ã€‚</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-c">## 224x224 models</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-all"</span>)
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-rsna"</span>) <span class="pl-c"># RSNA Pneumonia Challenge</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-nih"</span>) <span class="pl-c"># NIH chest X-ray8</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-pc"</span>) <span class="pl-c"># PadChest (University of Alicante)</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-chex"</span>) <span class="pl-c"># CheXpert (Stanford)</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-mimic_nb"</span>) <span class="pl-c"># MIMIC-CXR (MIT)</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"densenet121-res224-mimic_ch"</span>) <span class="pl-c"># MIMIC-CXR (MIT)</span>

<span class="pl-c"># 512x512 models</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">models</span>.<span class="pl-v">ResNet</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"resnet50-res512-all"</span>)

<span class="pl-c"># DenseNet121 from JF Healthcare for the CheXpert competition</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">baseline_models</span>.<span class="pl-s1">jfhealthcare</span>.<span class="pl-v">DenseNet</span>() 

<span class="pl-c"># Official Stanford CheXpert model</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">baseline_models</span>.<span class="pl-s1">chexpert</span>.<span class="pl-v">DenseNet</span>(<span class="pl-s1">weights_zip</span><span class="pl-c1">=</span><span class="pl-s">"chexpert_weights.zip"</span>)

<span class="pl-c"># Emory HITI lab race prediction model</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">baseline_models</span>.<span class="pl-s1">emory_hiti</span>.<span class="pl-v">RaceModel</span>()
<span class="pl-s1">model</span>.<span class="pl-s1">targets</span> <span class="pl-c1">-</span><span class="pl-c1">&gt;</span> [<span class="pl-s">"Asian"</span>, <span class="pl-s">"Black"</span>, <span class="pl-s">"White"</span>]

<span class="pl-c"># Riken age prediction model</span>
<span class="pl-s1">model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">baseline_models</span>.<span class="pl-s1">riken</span>.<span class="pl-v">AgeModel</span>()</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="
## 224x224 models
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-all&quot;)
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-rsna&quot;) # RSNA Pneumonia Challenge
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-nih&quot;) # NIH chest X-ray8
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-pc&quot;) # PadChest (University of Alicante)
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-chex&quot;) # CheXpert (Stanford)
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-mimic_nb&quot;) # MIMIC-CXR (MIT)
model = xrv.models.DenseNet(weights=&quot;densenet121-res224-mimic_ch&quot;) # MIMIC-CXR (MIT)

# 512x512 models
model = xrv.models.ResNet(weights=&quot;resnet50-res512-all&quot;)

# DenseNet121 from JF Healthcare for the CheXpert competition
model = xrv.baseline_models.jfhealthcare.DenseNet() 

# Official Stanford CheXpert model
model = xrv.baseline_models.chexpert.DenseNet(weights_zip=&quot;chexpert_weights.zip&quot;)

# Emory HITI lab race prediction model
model = xrv.baseline_models.emory_hiti.RaceModel()
model.targets -> [&quot;Asian&quot;, &quot;Black&quot;, &quot;White&quot;]

# Riken age prediction model
model = xrv.baseline_models.riken.AgeModel()
" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™äº›æ¨¡å¼çš„åŸºå‡†åœ¨è¿™é‡Œï¼š</font></font><a href="/mlmed/torchxrayvision/blob/master/BENCHMARKS.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BENCHMARKS.md</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä¸€äº›æ¨¡å‹çš„æ€§èƒ½å¯ä»¥åœ¨è¿™ç¯‡è®ºæ–‡</font></font><a href="https://arxiv.org/abs/2002.02497" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arxiv.org/abs/2002.02497</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­çœ‹åˆ°ã€‚</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‡ªåŠ¨ç¼–ç å™¨</font></font></h2><a id="user-content-autoencoders" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šè‡ªåŠ¨ç¼–ç å™¨" href="#autoencoders"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨è¿˜å¯ä»¥åŠ è½½åœ¨ PadChestã€NIHã€CheXpert å’Œ MIMIC æ•°æ®é›†ä¸Šè®­ç»ƒçš„é¢„è®­ç»ƒè‡ªåŠ¨ç¼–ç å™¨ã€‚</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">ae</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">autoencoders</span>.<span class="pl-v">ResNetAE</span>(<span class="pl-s1">weights</span><span class="pl-c1">=</span><span class="pl-s">"101-elastic"</span>)
<span class="pl-s1">z</span> <span class="pl-c1">=</span> <span class="pl-s1">ae</span>.<span class="pl-en">encode</span>(<span class="pl-s1">image</span>)
<span class="pl-s1">image2</span> <span class="pl-c1">=</span> <span class="pl-s1">ae</span>.<span class="pl-en">decode</span>(<span class="pl-s1">z</span>)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="ae = xrv.autoencoders.ResNetAE(weights=&quot;101-elastic&quot;)
z = ae.encode(image)
image2 = ae.decode(z)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ†å‰²</font></font></h2><a id="user-content-segmentation" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼š ç»†åˆ†" href="#segmentation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¯ä»¥åŠ è½½é¢„è®­ç»ƒçš„è§£å‰–åˆ†å‰²æ¨¡å‹ã€‚</font></font><a href="/mlmed/torchxrayvision/blob/master/scripts/segmentation.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">seg_model</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">baseline_models</span>.<span class="pl-s1">chestx_det</span>.<span class="pl-v">PSPNet</span>()
<span class="pl-s1">output</span> <span class="pl-c1">=</span> <span class="pl-en">seg_model</span>(<span class="pl-s1">image</span>)
<span class="pl-s1">output</span>.<span class="pl-s1">shape</span> <span class="pl-c"># [1, 14, 512, 512]</span>
<span class="pl-s1">seg_model</span>.<span class="pl-s1">targets</span> <span class="pl-c"># ['Left Clavicle', 'Right Clavicle', 'Left Scapula', 'Right Scapula',</span>
                  <span class="pl-c">#  'Left Lung', 'Right Lung', 'Left Hilus Pulmonis', 'Right Hilus Pulmonis',</span>
                  <span class="pl-c">#  'Heart', 'Aorta', 'Facies Diaphragmatica', 'Mediastinum',  'Weasand', 'Spine']</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="seg_model = xrv.baseline_models.chestx_det.PSPNet()
output = seg_model(image)
output.shape # [1, 14, 512, 512]
seg_model.targets # ['Left Clavicle', 'Right Clavicle', 'Left Scapula', 'Right Scapula',
                  #  'Left Lung', 'Right Lung', 'Left Hilus Pulmonis', 'Right Hilus Pulmonis',
                  #  'Heart', 'Aorta', 'Facies Diaphragmatica', 'Mediastinum',  'Weasand', 'Spine']" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="/mlmed/torchxrayvision/blob/master/docs/segmentation-pspnet.png"><img src="/mlmed/torchxrayvision/raw/master/docs/segmentation-pspnet.png" alt="" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®é›†</font></font></h2><a id="user-content-datasets" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šæ•°æ®é›†" href="#datasets"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/mlmed/torchxrayvision/blob/master/torchxrayvision/datasets.py"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŸ¥çœ‹æ–‡æ¡£å­—ç¬¦ä¸²ä»¥äº†è§£æœ‰å…³æ¯ä¸ªæ•°æ®é›†å’Œ</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/xray_datasets.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠ</font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/dataset_utils.py"><font style="vertical-align: inherit;">ç¤ºä¾‹åŠ è½½è„šæœ¬</font></a><a href="https://github.com/mlmed/torchxrayvision/blob/master/torchxrayvision/datasets.py"><font style="vertical-align: inherit;">çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯</font></a></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/dataset_utils.py"><font style="vertical-align: inherit;"></font></a></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">transform</span> <span class="pl-c1">=</span> <span class="pl-s1">torchvision</span>.<span class="pl-s1">transforms</span>.<span class="pl-v">Compose</span>([<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">XRayCenterCrop</span>(),
                                            <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">XRayResizer</span>(<span class="pl-c1">224</span>)])

<span class="pl-c"># RSNA Pneumonia Detection Challenge. https://pubs.rsna.org/doi/full/10.1148/ryai.2019180041</span>
<span class="pl-s1">d_kaggle</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">RSNA_Pneumonia_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to stage_2_train_images_jpg"</span>,
                                       <span class="pl-s1">transform</span><span class="pl-c1">=</span><span class="pl-s1">transform</span>)
                
<span class="pl-c"># CheXpert: A Large Chest Radiograph Dataset with Uncertainty Labels and Expert Comparison. https://arxiv.org/abs/1901.07031             </span>
<span class="pl-s1">d_chex</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">CheX_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to CheXpert-v1.0-small"</span>,
                                   <span class="pl-s1">csvpath</span><span class="pl-c1">=</span><span class="pl-s">"path to CheXpert-v1.0-small/train.csv"</span>,
                                   <span class="pl-s1">transform</span><span class="pl-c1">=</span><span class="pl-s1">transform</span>)

<span class="pl-c"># National Institutes of Health ChestX-ray8 dataset. https://arxiv.org/abs/1705.02315</span>
<span class="pl-s1">d_nih</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">NIH_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to NIH images"</span>)

<span class="pl-c"># A relabelling of a subset of NIH images from: https://pubs.rsna.org/doi/10.1148/radiol.2019191293</span>
<span class="pl-s1">d_nih2</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">NIH_Google_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to NIH images"</span>)

<span class="pl-c"># PadChest: A large chest x-ray image dataset with multi-label annotated reports. https://arxiv.org/abs/1901.07441</span>
<span class="pl-s1">d_pc</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">PC_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to image folder"</span>)

<span class="pl-c"># COVID-19 Image Data Collection. https://arxiv.org/abs/2006.11988</span>
<span class="pl-s1">d_covid19</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">COVID19_Dataset</span>() <span class="pl-c"># specify imgpath and csvpath for the dataset</span>

<span class="pl-c"># SIIM Pneumothorax Dataset. https://www.kaggle.com/c/siim-acr-pneumothorax-segmentation</span>
<span class="pl-s1">d_siim</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">SIIM_Pneumothorax_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"dicom-images-train/"</span>,
                                                <span class="pl-s1">csvpath</span><span class="pl-c1">=</span><span class="pl-s">"train-rle.csv"</span>)

<span class="pl-c"># VinDr-CXR: An open dataset of chest X-rays with radiologist's annotations. https://arxiv.org/abs/2012.15029</span>
<span class="pl-s1">d_vin</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">VinBrain_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">".../train"</span>,
                                      <span class="pl-s1">csvpath</span><span class="pl-c1">=</span><span class="pl-s">".../train.csv"</span>)

<span class="pl-c"># National Library of Medicine Tuberculosis Datasets. https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4256233/</span>
<span class="pl-s1">d_nlmtb</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">NLMTB_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"path to MontgomerySet or ChinaSet_AllFiles"</span>)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="transform = torchvision.transforms.Compose([xrv.datasets.XRayCenterCrop(),
                                            xrv.datasets.XRayResizer(224)])

# RSNA Pneumonia Detection Challenge. https://pubs.rsna.org/doi/full/10.1148/ryai.2019180041
d_kaggle = xrv.datasets.RSNA_Pneumonia_Dataset(imgpath=&quot;path to stage_2_train_images_jpg&quot;,
                                       transform=transform)
                
# CheXpert: A Large Chest Radiograph Dataset with Uncertainty Labels and Expert Comparison. https://arxiv.org/abs/1901.07031             
d_chex = xrv.datasets.CheX_Dataset(imgpath=&quot;path to CheXpert-v1.0-small&quot;,
                                   csvpath=&quot;path to CheXpert-v1.0-small/train.csv&quot;,
                                   transform=transform)

# National Institutes of Health ChestX-ray8 dataset. https://arxiv.org/abs/1705.02315
d_nih = xrv.datasets.NIH_Dataset(imgpath=&quot;path to NIH images&quot;)

# A relabelling of a subset of NIH images from: https://pubs.rsna.org/doi/10.1148/radiol.2019191293
d_nih2 = xrv.datasets.NIH_Google_Dataset(imgpath=&quot;path to NIH images&quot;)

# PadChest: A large chest x-ray image dataset with multi-label annotated reports. https://arxiv.org/abs/1901.07441
d_pc = xrv.datasets.PC_Dataset(imgpath=&quot;path to image folder&quot;)

# COVID-19 Image Data Collection. https://arxiv.org/abs/2006.11988
d_covid19 = xrv.datasets.COVID19_Dataset() # specify imgpath and csvpath for the dataset

# SIIM Pneumothorax Dataset. https://www.kaggle.com/c/siim-acr-pneumothorax-segmentation
d_siim = xrv.datasets.SIIM_Pneumothorax_Dataset(imgpath=&quot;dicom-images-train/&quot;,
                                                csvpath=&quot;train-rle.csv&quot;)

# VinDr-CXR: An open dataset of chest X-rays with radiologist's annotations. https://arxiv.org/abs/2012.15029
d_vin = xrv.datasets.VinBrain_Dataset(imgpath=&quot;.../train&quot;,
                                      csvpath=&quot;.../train.csv&quot;)

# National Library of Medicine Tuberculosis Datasets. https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4256233/
d_nlmtb = xrv.datasets.NLMTB_Dataset(imgpath=&quot;path to MontgomerySet or ChinaSet_AllFiles&quot;)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®é›†å­—æ®µ</font></font></h2><a id="user-content-dataset-fields" class="anchor-element" aria-label="å›ºå®šé“¾æ¥ï¼šæ•°æ®é›†å­—æ®µ" href="#dataset-fields"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯ä¸ªæ•°æ®é›†åŒ…å«è®¸å¤šå­—æ®µã€‚</font><font style="vertical-align: inherit;">å½“ä½¿ç”¨ xrv.datasets.Subset_Dataset å’Œ xrv.datasets.Merge_Dataset æ—¶ï¼Œå°†ç»´æŠ¤è¿™äº›å­—æ®µã€‚</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><code>.pathologies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥å­—æ®µæ˜¯è¯¥æ•°æ®é›†ä¸­åŒ…å«çš„ç—…ç†åˆ—è¡¨ï¼Œè¯¥æ•°æ®é›†å°†åŒ…å«åœ¨å­—æ®µ</font></font><code>.labels</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">]ä¸­ã€‚</font></font></p>
</li>
<li>
<p dir="auto"><code>.labels</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹äº ä¸­å®šä¹‰çš„æ¯ä¸ªæ ‡ç­¾ï¼Œæ­¤å­—æ®µåŒ…å« 1ã€0 æˆ– NaN </font></font><code>.pathologies</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p>
</li>
<li>
<p dir="auto"><code>.csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥å­—æ®µæ˜¯æ•°æ®é™„å¸¦çš„å…ƒæ•°æ®csvæ–‡ä»¶çš„pandas DataFrameã€‚</font><font style="vertical-align: inherit;">æ¯è¡Œä¸æ•°æ®é›†çš„å…ƒç´ å¯¹é½ï¼Œå› æ­¤ä½¿ç”¨ç´¢å¼•</font></font><code>.iloc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†èµ·ä½œç”¨ã€‚</font></font></p>
</li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœå¯èƒ½ï¼Œæ¯ä¸ªæ•°æ®é›†</font></font><code>.csv</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éƒ½ä¼šæœ‰ä¸€äº› csv çš„å…¬å…±å­—æ®µã€‚</font><font style="vertical-align: inherit;">å½“åˆ—è¡¨å¦‚ä¸‹æ—¶ï¼Œè¿™äº›å°†è¢«å¯¹é½ï¼š</font></font></p>
<ul dir="auto">
<li>
<p dir="auto"><code>csv.patientid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å”¯ä¸€æ ‡è¯†æ­¤æ•°æ®é›†ä¸­æ ·æœ¬çš„å”¯ä¸€ ID</font></font></p>
</li>
<li>
<p dir="auto"><code>csv.offset_day_int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥å¤©ä¸ºå•ä½çš„å›¾åƒçš„æ•´æ•°æ—¶é—´åç§»é‡ã€‚</font><font style="vertical-align: inherit;">è¿™é¢„è®¡æ˜¯ç›¸å¯¹æ—¶é—´ï¼Œæ²¡æœ‰ç»å¯¹æ„ä¹‰ï¼Œå°½ç®¡å¯¹äºæŸäº›æ•°æ®é›†æ¥è¯´å®ƒæ˜¯çºªå…ƒæ—¶é—´ã€‚</font></font></p>
</li>
<li>
<p dir="auto"><code>csv.age_years</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚£è€…çš„å¹´é¾„ï¼ˆä»¥å¹´ä¸ºå•ä½ï¼‰ã€‚</font></font></p>
</li>
<li>
<p dir="auto"><code>csv.sex_male</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚£è€…æ˜¯ç”·æ€§</font></font></p>
</li>
<li>
<p dir="auto"><code>csv.sex_female</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚£è€…æ˜¯å¥³æ€§</font></font></p>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®é›†å·¥å…·</font></font></h2><a id="user-content-dataset-tools" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šæ•°æ®é›†å·¥å…·" href="#dataset-tools"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relabel_dataset å°†å¯¹é½æ ‡ç­¾ä»¥ä½¿å…¶ä¸ç—…ç†å­¦å‚æ•°å…·æœ‰ç›¸åŒçš„é¡ºåºã€‚</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-en">relabel_dataset</span>(<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-s1">default_pathologies</span> , <span class="pl-s1">d_nih</span>) <span class="pl-c"># has side effects</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="xrv.datasets.relabel_dataset(xrv.datasets.default_pathologies , d_nih) # has side effects" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡å®šè§†å›¾çš„å­é›†ï¼ˆ</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/xray_datasets_views.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">d_kaggle</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">RSNA_Pneumonia_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"..."</span>,
                                               <span class="pl-s1">views</span><span class="pl-c1">=</span>[<span class="pl-s">"PA"</span>,<span class="pl-s">"AP"</span>,<span class="pl-s">"AP Supine"</span>])</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="d_kaggle = xrv.datasets.RSNA_Pneumonia_Dataset(imgpath=&quot;...&quot;,
                                               views=[&quot;PA&quot;,&quot;AP&quot;,&quot;AP Supine&quot;])" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºæ¯ä½æ‚£è€…ä»…æŒ‡å®š 1 ä¸ªå›¾åƒ</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">d_kaggle</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">RSNA_Pneumonia_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"..."</span>,
                                               <span class="pl-s1">unique_patients</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="d_kaggle = xrv.datasets.RSNA_Pneumonia_Dataset(imgpath=&quot;...&quot;,
                                               unique_patients=True)" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·å–æ¯ä¸ªæ•°æ®é›†çš„æ‘˜è¦ç»Ÿè®¡æ•°æ®</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">d_chex</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">CheX_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"CheXpert-v1.0-small"</span>,
                                   <span class="pl-s1">csvpath</span><span class="pl-c1">=</span><span class="pl-s">"CheXpert-v1.0-small/train.csv"</span>,
                                 <span class="pl-s1">views</span><span class="pl-c1">=</span>[<span class="pl-s">"PA"</span>,<span class="pl-s">"AP"</span>], <span class="pl-s1">unique_patients</span><span class="pl-c1">=</span><span class="pl-c1">False</span>)

<span class="pl-v">CheX_Dataset</span> <span class="pl-s1">num_samples</span><span class="pl-c1">=</span><span class="pl-c1">191010</span> <span class="pl-s1">views</span><span class="pl-c1">=</span>[<span class="pl-s">'PA'</span>, <span class="pl-s">'AP'</span>]
{<span class="pl-s">'Atelectasis'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">17621</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">29718</span>},
 <span class="pl-s">'Cardiomegaly'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">22645</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">23384</span>},
 <span class="pl-s">'Consolidation'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">30463</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">12982</span>},
 <span class="pl-s">'Edema'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">29449</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">49674</span>},
 <span class="pl-s">'Effusion'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">34376</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">76894</span>},
 <span class="pl-s">'Enlarged Cardiomediastinum'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">26527</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">9186</span>},
 <span class="pl-s">'Fracture'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">18111</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">7434</span>},
 <span class="pl-s">'Lung Lesion'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">17523</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">7040</span>},
 <span class="pl-s">'Lung Opacity'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">20165</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">94207</span>},
 <span class="pl-s">'Pleural Other'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">17166</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">2503</span>},
 <span class="pl-s">'Pneumonia'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">18105</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">4674</span>},
 <span class="pl-s">'Pneumothorax'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">54165</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">17693</span>},
 <span class="pl-s">'Support Devices'</span>: {<span class="pl-c1">0.0</span>: <span class="pl-c1">21757</span>, <span class="pl-c1">1.0</span>: <span class="pl-c1">99747</span>}}</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="d_chex = xrv.datasets.CheX_Dataset(imgpath=&quot;CheXpert-v1.0-small&quot;,
                                   csvpath=&quot;CheXpert-v1.0-small/train.csv&quot;,
                                 views=[&quot;PA&quot;,&quot;AP&quot;], unique_patients=False)

CheX_Dataset num_samples=191010 views=['PA', 'AP']
{'Atelectasis': {0.0: 17621, 1.0: 29718},
 'Cardiomegaly': {0.0: 22645, 1.0: 23384},
 'Consolidation': {0.0: 30463, 1.0: 12982},
 'Edema': {0.0: 29449, 1.0: 49674},
 'Effusion': {0.0: 34376, 1.0: 76894},
 'Enlarged Cardiomediastinum': {0.0: 26527, 1.0: 9186},
 'Fracture': {0.0: 18111, 1.0: 7434},
 'Lung Lesion': {0.0: 17523, 1.0: 7040},
 'Lung Opacity': {0.0: 20165, 1.0: 94207},
 'Pleural Other': {0.0: 17166, 1.0: 2503},
 'Pneumonia': {0.0: 18105, 1.0: 4674},
 'Pneumothorax': {0.0: 54165, 1.0: 17693},
 'Support Devices': {0.0: 21757, 1.0: 99747}}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç—…ç†é¢å…·ï¼ˆ</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/xray_masks.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></h2><a id="user-content-pathology-masks-demo-notebook" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šç—…ç†å­¦é¢å…·ï¼ˆæ¼”ç¤ºç¬”è®°æœ¬ï¼‰" href="#pathology-masks-demo-notebook"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥ä¸‹æ•°æ®é›†ä¸­æä¾›äº†æ©æ¨¡ï¼š</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">RSNA_Pneumonia_Dataset</span>() <span class="pl-c"># for Lung Opacity</span>
<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">SIIM_Pneumothorax_Dataset</span>() <span class="pl-c"># for Pneumothorax</span>
<span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">NIH_Dataset</span>() <span class="pl-c"># for Cardiomegaly, Mass, Effusion, ...</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="xrv.datasets.RSNA_Pneumonia_Dataset() # for Lung Opacity
xrv.datasets.SIIM_Pneumothorax_Dataset() # for Pneumothorax
xrv.datasets.NIH_Dataset() # for Cardiomegaly, Mass, Effusion, ..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æ³•ç¤ºä¾‹ï¼š</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">d_rsna</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">RSNA_Pneumonia_Dataset</span>(<span class="pl-s1">imgpath</span><span class="pl-c1">=</span><span class="pl-s">"stage_2_train_images_jpg"</span>, 
                                            <span class="pl-s1">views</span><span class="pl-c1">=</span>[<span class="pl-s">"PA"</span>,<span class="pl-s">"AP"</span>],
                                            <span class="pl-s1">pathology_masks</span><span class="pl-c1">=</span><span class="pl-c1">True</span>)
                                            
<span class="pl-c"># The has_masks column will let you know if any masks exist for that sample</span>
<span class="pl-s1">d_rsna</span>.<span class="pl-s1">csv</span>.<span class="pl-s1">has_masks</span>.<span class="pl-en">value_counts</span>()
<span class="pl-c1">False</span>    <span class="pl-c1">20672</span>
<span class="pl-c1">True</span>      <span class="pl-c1">6012</span>       

<span class="pl-c"># Each sample will have a pathology_masks dictionary where the index </span>
<span class="pl-c"># of each pathology will correspond to a mask of that pathology (if it exists).</span>
<span class="pl-c"># There may be more than one mask per sample. But only one per pathology.</span>
<span class="pl-s1">sample</span>[<span class="pl-s">"pathology_masks"</span>][<span class="pl-s1">d_rsna</span>.<span class="pl-s1">pathologies</span>.<span class="pl-en">index</span>(<span class="pl-s">"Lung Opacity"</span>)]</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="d_rsna = xrv.datasets.RSNA_Pneumonia_Dataset(imgpath=&quot;stage_2_train_images_jpg&quot;, 
                                            views=[&quot;PA&quot;,&quot;AP&quot;],
                                            pathology_masks=True)
                                            
# The has_masks column will let you know if any masks exist for that sample
d_rsna.csv.has_masks.value_counts()
False    20672
True      6012       

# Each sample will have a pathology_masks dictionary where the index 
# of each pathology will correspond to a mask of that pathology (if it exists).
# There may be more than one mask per sample. But only one per pathology.
sample[&quot;pathology_masks&quot;][d_rsna.pathologies.index(&quot;Lung Opacity&quot;)]" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna2.png"><img src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna2.png" alt="" style="max-width: 100%;"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna3.png"><img src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna3.png" alt="" style="max-width: 100%;"></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨ä¼ é€’</font></font><code>data_aug=data_transforms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»™æ•°æ®åŠ è½½å™¨ï¼Œå®ƒä¹Ÿå¯ä»¥ä¸ data_augmentation ä¸€èµ·ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">éšæœºç§å­è¢«åŒ¹é…ä»¥å¯¹é½å›¾åƒå’Œæ©æ¨¡çš„è°ƒç”¨ã€‚</font></font></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna614-da.png"><img src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/pathology-mask-rsna614-da.png" alt="" style="max-width: 100%;"></a></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ†é…ç­æ¬¡å·¥å…·ï¼ˆ</font></font><a href="https://github.com/mlmed/torchxrayvision/blob/master/scripts/xray_datasets-CovariateShift.ipynb"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¼”ç¤ºç¬”è®°æœ¬</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></h2><a id="user-content-distribution-shift-tools-demo-notebook" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šåˆ†å‘è½¬ç§»å·¥å…·ï¼ˆæ¼”ç¤ºç¬”è®°æœ¬ï¼‰" href="#distribution-shift-tools-demo-notebook"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥ç±»</font></font><code>xrv.datasets.CovariateDataset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡‡ç”¨ä¸¤ä¸ªæ•°æ®é›†å’Œä¸¤ä¸ªè¡¨ç¤ºæ ‡ç­¾çš„æ•°ç»„ã€‚</font><font style="vertical-align: inherit;">æ ·æœ¬å°†æŒ‰ç…§æ¯ä¸ªç«™ç‚¹æ‰€éœ€çš„å›¾åƒæ¯”ä¾‹è¿”å›ã€‚</font><font style="vertical-align: inherit;">è¿™é‡Œçš„ç›®æ ‡æ˜¯æ¨¡æ‹Ÿåå˜é‡è½¬å˜ï¼Œä½¿æ¨¡å‹ä¸“æ³¨äºä¸æ­£ç¡®çš„ç‰¹å¾ã€‚</font><font style="vertical-align: inherit;">ç„¶åï¼ŒéªŒè¯æ•°æ®ä¸­çš„è½¬å˜å¯èƒ½ä¼šé€†è½¬ï¼Œä»è€Œå¯¼è‡´æ³›åŒ–æ€§èƒ½å‡ºç°ç¾éš¾æ€§å¤±è´¥ã€‚</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ratio=0.0 è¡¨ç¤º d1 ä¸­çš„å›¾åƒå°†å…·æœ‰æ­£æ ‡ç­¾ã€‚ratio=0.5 è¡¨ç¤º d1 ä¸­çš„å›¾åƒå°†å…·æœ‰ä¸€åŠçš„æ­£æ ‡ç­¾ã€‚ratio=1.0 è¡¨ç¤º d1 ä¸­çš„å›¾åƒå°†æ²¡æœ‰æ­£æ ‡ç­¾ã€‚</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹äºä»»ä½•æ¯”ç‡ï¼Œè¿”å›çš„æ ·æœ¬æ•°é‡éƒ½å°†ç›¸åŒã€‚</font></font></p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto"><pre><span class="pl-s1">d</span> <span class="pl-c1">=</span> <span class="pl-s1">xrv</span>.<span class="pl-s1">datasets</span>.<span class="pl-v">CovariateDataset</span>(<span class="pl-s1">d1</span> <span class="pl-c1">=</span> <span class="pl-c"># dataset1 with a specific condition</span>
                                  <span class="pl-s1">d1_target</span> <span class="pl-c1">=</span> <span class="pl-c">#target label to predict,</span>
                                  <span class="pl-s1">d2</span> <span class="pl-c1">=</span> <span class="pl-c"># dataset2 with a specific condition</span>
                                  <span class="pl-s1">d2_target</span> <span class="pl-c1">=</span> <span class="pl-c">#target label to predict,</span>
                                  <span class="pl-s1">mode</span><span class="pl-c1">=</span><span class="pl-s">"train"</span>, <span class="pl-c"># train, valid, and test</span>
                                  <span class="pl-s1">ratio</span><span class="pl-c1">=</span><span class="pl-c1">0.9</span>)</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="d = xrv.datasets.CovariateDataset(d1 = # dataset1 with a specific condition
                                  d1_target = #target label to predict,
                                  d2 = # dataset2 with a specific condition
                                  d2_target = #target label to predict,
                                  mode=&quot;train&quot;, # train, valid, and test
                                  ratio=0.9)
" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼•æ–‡</font></font></h2><a id="user-content-citation" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šå¼•æ–‡" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TorchXRayVision ä¸»è¦è®ºæ–‡ï¼š</font></font><a href="https://arxiv.org/abs/2111.00595" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/2111.00595</font></font></a></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>Joseph Paul Cohen, Joseph D. Viviano, Paul Bertin, Paul Morrison, Parsa Torabian, Matteo Guarrera, Matthew P Lungren, Akshay Chaudhari, Rupert Brooks, Mohammad Hashir, Hadrien Bertrand
TorchXRayVision: A library of chest X-ray datasets and models. 
Medical Imaging with Deep Learning
https://github.com/mlmed/torchxrayvision, 2020


@inproceedings{Cohen2022xrv,
title = {{TorchXRayVision: A library of chest X-ray datasets and models}},
author = {Cohen, Joseph Paul and Viviano, Joseph D. and Bertin, Paul and Morrison, Paul and Torabian, Parsa and Guarrera, Matteo and Lungren, Matthew P and Chaudhari, Akshay and Brooks, Rupert and Hashir, Mohammad and Bertrand, Hadrien},
booktitle = {Medical Imaging with Deep Learning},
url = {https://github.com/mlmed/torchxrayvision},
arxivId = {2111.00595},
year = {2022}
}

</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="Joseph Paul Cohen, Joseph D. Viviano, Paul Bertin, Paul Morrison, Parsa Torabian, Matteo Guarrera, Matthew P Lungren, Akshay Chaudhari, Rupert Brooks, Mohammad Hashir, Hadrien Bertrand
TorchXRayVision: A library of chest X-ray datasets and models. 
Medical Imaging with Deep Learning
https://github.com/mlmed/torchxrayvision, 2020


@inproceedings{Cohen2022xrv,
title = {{TorchXRayVision: A library of chest X-ray datasets and models}},
author = {Cohen, Joseph Paul and Viviano, Joseph D. and Bertin, Paul and Morrison, Paul and Torabian, Parsa and Guarrera, Matteo and Lungren, Matthew P and Chaudhari, Akshay and Brooks, Rupert and Hashir, Mohammad and Bertrand, Hadrien},
booktitle = {Medical Imaging with Deep Learning},
url = {https://github.com/mlmed/torchxrayvision},
arxivId = {2111.00595},
year = {2022}
}
" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™ç¯‡è®ºæ–‡å¯åŠ¨äº†è¯¥åº“çš„å¼€å‘ï¼š</font></font><a href="https://arxiv.org/abs/2002.02497" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://arxiv.org/abs/2002.02497</font></font></a></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>Joseph Paul Cohen and Mohammad Hashir and Rupert Brooks and Hadrien Bertrand
On the limits of cross-domain generalization in automated X-ray prediction. 
Medical Imaging with Deep Learning 2020 (Online: https://arxiv.org/abs/2002.02497)

@inproceedings{cohen2020limits,
  title={On the limits of cross-domain generalization in automated X-ray prediction},
  author={Cohen, Joseph Paul and Hashir, Mohammad and Brooks, Rupert and Bertrand, Hadrien},
  booktitle={Medical Imaging with Deep Learning},
  year={2020},
  url={https://arxiv.org/abs/2002.02497}
}
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="Joseph Paul Cohen and Mohammad Hashir and Rupert Brooks and Hadrien Bertrand
On the limits of cross-domain generalization in automated X-ray prediction. 
Medical Imaging with Deep Learning 2020 (Online: https://arxiv.org/abs/2002.02497)

@inproceedings{cohen2020limits,
  title={On the limits of cross-domain generalization in automated X-ray prediction},
  author={Cohen, Joseph Paul and Hashir, Mohammad and Brooks, Rupert and Bertrand, Hadrien},
  booktitle={Medical Imaging with Deep Learning},
  year={2020},
  url={https://arxiv.org/abs/2002.02497}
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ”¯æŒè€…/èµåŠ©è€…</font></font></h2><a id="user-content-supporterssponsors" class="anchor-element" aria-label="æ°¸ä¹…é“¾æ¥ï¼šæ”¯æŒè€…/èµåŠ©å•†" href="#supporterssponsors"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th align="center"><a href="https://cifar.ca/" rel="nofollow"><img width="300px" src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/cifar-logo.png" style="max-width: 100%;"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CIFARï¼ˆåŠ æ‹¿å¤§é«˜çº§ç ”ç©¶æ‰€ï¼‰</font></font></th>
<th align="center"><a href="https://mila.quebec/" rel="nofollow"><img width="300px" src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/mila-logo.png" style="max-width: 100%;"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Milaï¼Œè’™ç‰¹åˆ©å°”å¤§å­¦é­åŒ—å…‹äººå·¥æ™ºèƒ½ç ”ç©¶æ‰€</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><a href="http://aimi.stanford.edu/" rel="nofollow"><img width="300px" src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/AIMI-stanford.jpg" style="max-width: 100%;"></a> <br><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¯å¦ç¦å¤§å­¦</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ»å­¦ä¸å½±åƒäººå·¥æ™ºèƒ½ä¸­å¿ƒ</font></font></b></td>
<td align="center"><a href="http://www.carestream.com/" rel="nofollow"><img width="300px" src="https://raw.githubusercontent.com/mlmed/torchxrayvision/master/docs/carestream-logo.png" style="max-width: 100%;"></a> <br><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”ç‚å¥åº·</font></font></b></td>
</tr>
</tbody>
</table>
</article></div>
